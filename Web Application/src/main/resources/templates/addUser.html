<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en">
<head lang="en">
    <meta charset="UTF-8"/>
    <title>SignUp</title>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css"/>
</head>
<body class="p-3 mb-2 bg-dark text-white">
<div class="container text-center">
    <div>
        <h1>User Registration - Sign Up</h1>
    </div>
    <form id="form" th:action="@{/addUser}" method="post"
          style="max-width: 600px; margin: 0 auto;"
    >
        <div class="m-3">
            <div class="form-group row">
                <label class="col-form-label col-4"></label>
                <div class="">
                    <div th:if="${inUse != null}" class="alert alert-danger notification" role="alert">
                        <p  th:text="${inUse}"></p><p> already exists</p>
                    </div>
                </div>
            </div>
            <div id = "usernameDiv" class="form-group row">
                <label class="col-form-label col-4">Username</label>
                <div id = "usernameDiv2">
                    <label id = "usernameLabel" >
                        <input type="text" class="form-control" th:field="${user.username}" required/>
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-form-label col-4"></label>
                <div class="">
                    <div th:if="${wrongEmail != null}" class="alert alert-danger notification" role="alert">
                        <p  th:text="${wrongEmail}"></p><p> is not an UIowa email</p>
                    </div>
                </div>
            </div>
            <div id = "emailDiv" class="form-group row">
                <label class="col-form-label col-4">Email</label>
                <div id = "emailDiv2">
                    <label id = "emailLabel">
                        <input type="email" class="form-control" th:field="${user.email}" required/>
                    </label>
                </div>
            </div>
            <div id="roleDiv" class="form-group row">
                <label  class="col-form-label col-4">Role</label>
                <div id="roleDiv2">
                    <label id="roleLabel">
                        <select class="form-control" th:field="${user.role}" required>
                            <option value=""></option>
                            <option id = "general" th:value="'general'" th:text="General"></option>
                            <option id = "admin" th:value="'admin'" th:text="Admin"></option>
                        </select>
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-form-label col-4"></label>
                <div class="">
                    <div th:if="${errors != null}" class="alert alert-danger notification" role="alert">
                        <p th:each = "i: ${errors}" th:text="${i}"></p>
                    </div>
                </div>
            </div>
            <div id = "passwordDiv" class="form-group row">
                <label class="col-form-label col-4">Password</label>
                <div id = "passwordDiv2">
                    <label id = "passwordLabel">
                        <input type="password" class="form-control" th:field="${user.password}" required
                               minlength="8" maxlength="16"/>
                    </label>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-form-label col-4"></label>
                <div class="">
                    <div th:if="${pwError != null}" class="alert alert-danger notification" role="alert">
                        <p th:text="${pwError}"></p>
                    </div>
                </div>
            </div>
            <div id = "checkDiv"class="form-group row">
                <label class="col-form-label col-4">Validate Password</label>
                <div id = "checkDiv2">
                    <label id = "checkLabel">
                        <input type="password" class="form-control"  th:field="${uvp.checkPW}" required
                               minlength="8" maxlength="16"/>
                    </label>
                </div>
            </div>
            <div id = "submit">
                <button type="submit" class="btn btn-primary">Sign Up</button>
            </div>
        </div>
    </form>
    <a th:href = "@{'/homepage'}">Cancel</a>
</div>

</body>
</html>